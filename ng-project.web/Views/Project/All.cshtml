@using ng_project.Entities;

@model List<Project>



<div class="container-fluid">
        <div class="row mb-lg-3 justify-content-end pr-3">
            <a class="" asp-area="" asp-controller="Project" asp-action="Add">
                <div class="btn btn-outline-dark btn-sm" style="cursor:pointer">Добавить проект <i class="fa fa-sm fa-plus"></i></div>
            </a>
        </div>
		<div class="row mb-lg-3">
			@foreach (var Project in Model)
			{
				<div class="col-md-4">
					<div class="page-link border-0" >
						<div class="card shadow-sm">

							@if (Project.MainProjectImage != null && Project.MainProjectImage.Data != null)
							{
								<img style='width:100%; height:225px' src="data:image/jpeg;base64,@(Convert.ToBase64String(Project.MainProjectImage.Data))" />
							}
							else
							{
								<svg class="bd-placeholder-img card-img-top" width="100%" height="225" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: Thumbnail" preserveAspectRatio="xMidYMid slice" focusable="false"><title>Placeholder</title><rect width="100%" height="100%" fill="#55595c"></rect><text x="50%" y="50%" fill="#eceeef" dy=".3em">Thumbnail</text></svg>
							}
							<div class="card-body">
								<p class="card-text">@(Project.ShortDescription)</p>
								<div class="d-flex justify-content-between align-items-center">
									<div class="btn-group">
										@*<button type="button" class="btn btn-sm btn-outline-secondary">View</button>*@
										<a asp-action="Info" asp-controller="Project" asp-route-id="@(Project.Id)" class="btn btn-sm btn-outline-secondary">View</a>
										@if (Project.User.login == User.Identity.Name)
										{
											@*<button type="button" class="btn btn-sm btn-outline-secondary">Edit</button>*@
											<a asp-action="Edit" asp-controller="Project" asp-route-id="@(Project.Id)" class="btn btn-sm btn-outline-secondary">Edit</a>
										}

									</div>
									<small class="text-muted">9 mins</small>
									@(Project.User.login)
								</div>
							</div>
						</div>
					</div>
				</div>
			}
		</div>
    </div>  
 